<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
	<title>Архив учащихся</title>
<head th:replace="commons::head"></head>

<style>

.select2.select2-container.select2-container--default.select2-container--below.select2-container--focus {
    width: 100%
}

</style>
<link rel="stylesheet" th:href="@{/css/select2_settings.css}">
<body>
	<div th:replace="commons::navbar"></div>
	<div th:replace="commons::navEdu"></div>

	<div class="wrapper">
		<div class="container">
			<div class="row">


				<script>
					function Validator(id_) {
						if (confirm("Вы подтверждаете операцию?")) {
							var ttt = document.getElementById(id_);
							alert(ttt.id);
							return (true);

						} else {
							return (false);

						}
					}
				</script>
 
				 <div class="container text-center" style="margin-bottom: 20px;">
                
                    <div style="background-color: #bcf5bc; border-bottom: 5px solid transparent;">

                        <h4 style="border: 10px solid #bcf5bc; text-align: center">Поиск по ФИО</h4>

                        <form action="/educational/archive" accept-charset="UTF-8" method="POST">
                            <div class="" style="border: 5px solid #bcf5bc; text-align: left;">
                                <div class="row" style="margin-left: 0px; margin-right: 0px">
                                    <select class="livesearch" name="idPerson" style="width: 100%;">
                                        <th:block th:each="person: ${persons}">
                                            <option th:value="${person.id}"  th:text="${person.surname+' '+person.name+' '+person.patronymic}"/>
                                        </th:block>
                                    </select>
                                </div>
                            </div>
                            <button style="margin: 5px 5px 5px 5px" type="submit" class="btn btn-success">Найти</button>
                        </form>
                    </div>
                </div>
                
                
                <div class="container">
            <div class="row">
                <div class="col-md-10">
                    <b style="margin-top: 0; margin-bottom: 0rem; font-size: 110%;">Количество человек: </b>
                    <th:block th:text="${personList.size() + ' человек(а) '}" />
                </div>
                <div class="col-md-2"
                    style="padding-bottom: 0.5rem; padding-left: 2.25rem;">
                    </th:block>
                    
                </div>
            </div>
            </div>

                <div class="container text-center">
                <table class="table table-primary">
                    <thead>
                        <tr align="center">
                            <th scope="col">№ п/п</th>
                            <th scope="col">ФИО</th>
                            <th scope="col"></th>
                          
                            <th scope="col"></th>
                            <th scope="col"></th>
                            <!-- th scope="col" style="width: 250px"></th-->
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="person: ${personList}">
                                <input class="input-group-text" name="id" type="text" hidden="true" /> <input class="input-group-text" name="personId" type="text" hidden="true" />
                                <td align="center" bgcolor="#FFFFFF"><th:block
                                        th:text="${person.id}" /></td>
                                <td align="center" bgcolor="#FFFFFF"><a
                                    th:href="@{/person?id={pid}(pid=${person.id})}"><th:block
                                            th:text="${person.surname+' '+person.name+' '+person.patronymic}" /></a></td>

                        
							
					
							<td align="center" bgcolor="#FFFFF"><a class="btn"
                                    th:href="@{/educational/returnFromArchive?id={pid}(pid=${person.id})}">
                                        <img src="/img/logos/return.png" alt="return" style="height: 20px; width: 20px" title="Восстановить">
                                </a></td>
							
                            <td align="center" bgcolor="#FFFFF"><a class="btn"
                                    th:href="@{/editPerson?id={pid}(pid=${person.id})}">
                                        <img src="/img/logos/edit_pen_logo.png" alt="edit"
                                        style="height: 20px; width: 20px" title="Редактировать">
                                </a></td>
                            
                            <td align="center" bgcolor="#FFFFFF">
                               <form action="/deletePerson" accept-charset="UTF-8"
                                    method="POST">
                                    <input class="input-group-text" name="id" type="text" th:id="${person.id}" th:value="${person.id}" hidden="true" />
                                    <input class="input-group-text" name="personId" type="text" th:id="${person.id}" th:value="${person.id}" hidden="true" />
                                    <button class="btn" type="submit"><!--  onclick="JavaScript:return Validator(this.id);" -->
                                        <img src="/img/logos/delete_logo.png" alt="save02" style="height: 20px; width: 20px" title="Удалить">
                                    </button>
                                </form>
                                </td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
</div>
</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/js/select2.min.js" defer></script>
				
 <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    <script type="text/javascript" th:src="@{/js/jquery.maskedinput.min.js}"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/select2.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/ru.js}"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    
    
        <script type="text/javascript"> $(".livesearch").chosen(); </script>
    
                    <script>
                        function myFunction(imgs) {
                            var expandImg = document
                                    .getElementById("expandedImg");
                            var imgText = document.getElementById("imgtext");
                            expandImg.src = imgs.src;
                            imgText.innerHTML = imgs.alt;
                            expandImg.parentElement.style.display = "block";
                        }
                    </script>
                    <script type="text/javascript">
                        $('#inputGroupFile04').on('change', function() {
                            //get the file name
                            var fileName = $(this).val();
                            // alert("file: "+fileName);
                            //replace the "Choose a file" label
                            var str = fileName.substr(12, fileName.lenght);
                            $(this).next('.custom-file-label').html(str);
                        })
                    </script>
                    <script type="text/javascript">
                        $('#inputGroupFile03').on('change', function() {
                            //get the file name
                            var fileName = $(this).val();
                            // alert("file: "+fileName);
                            //replace the "Choose a file" label
                            var str = fileName.substr(12, fileName.lenght);
                            $(this).next('.custom-file-label').html(str);
                        })
                    </script>

                    <script type="text/javascript">
                        function editInventory(img) {
                            var btnDone = document.getElementById("done_img"
                                    + img.id.slice(img.id.length - 1));
                            btnDone.removeAttribute('hidden');

                            var thDocName = document.getElementById("docName"
                                    + img.id.slice(img.id.length - 1));
                            thDocName.removeAttribute('disabled');

                            var thDate = document.getElementById("docDate"
                                    + img.id.slice(img.id.length - 1));
                            thDate.disabled = false;

                            var thSheetNumber = document
                                    .getElementById("sheetNumber"
                                            + img.id.slice(img.id.length - 1));
                            thSheetNumber.removeAttribute('disabled');

                            var thNote = document.getElementById("note"
                                    + img.id.slice(img.id.length - 1));
                            thNote.removeAttribute('disabled');
                            //console.log("note" + str.slice(str.length - 1));
                            //console.log(str.length);
                        }
                    </script>
    
</body>
</html>