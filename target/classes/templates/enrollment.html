<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<title>Зачисление</title>	
<head th:replace="commons::head"></head>

<style>

.select2.select2-container.select2-container--default.select2-container--below.select2-container--focus {
    width: 100%
}

</style>
<link rel="stylesheet" th:href="@{/css/select2_settings.css}">
<body>
	<div th:replace="commons::navbar"></div>
	<div th:replace="commons::navAdmission"></div>

	<div class="wrapper">
		<div class="container">
			<div class="row">


				<script>
					function Validator(id_) {
						if (confirm("Вы подтверждаете операцию?")) {
							var ttt = document.getElementById(id_);
							alert(ttt.id);
							return (true);

						} else {
							return (false);

						}
					}
				</script>
 
				 <div class="container text-center" style="margin-bottom: 20px;">
                
                    <div style="background-color: #bcf5bc; border-bottom: 5px solid transparent;">

                        <h4 style="border: 10px solid #bcf5bc; text-align: center">Поиск по ФИО</h4>

                        <form action="/enrollment" accept-charset="UTF-8" method="POST">
                            <div class="" style="border: 5px solid #bcf5bc; text-align: left;">
                                <div class="row" style="margin-left: 0px; margin-right: 0px">
                                    <select class="livesearch" name="idPerson" style="width: 100%;">
                                        <th:block th:each="sc: ${selectionCommitteesForSearch}">
                                            <option th:value="${sc.personId}"  th:text="${sc.person.surname+' '+sc.person.name+' '+sc.person.patronymic}"/>
                                        </th:block>
                                    </select>
                                </div>
                            </div>
                            <button style="margin: 5px 5px 5px 5px" type="submit" class="btn btn-success">Найти</button>
                        </form>
                    </div>
                </div>
                
             
				<form action="/enrollment" accept-charset="UTF-8" method="POST">
				<div class="input-group mb-3">
                    <div class="input-group-prepend">

						<div class="form-check">
							<input class="form-check-input" name="checkboxname" type="checkbox" value="check2" id="flexCheckDefault" style="margin-top: 10px;" th:checked="${check2}">
						</div>

						<div class="input-group-text" style="border-top-left-radius: 0.25rem; border-bottom-left-radius: 0.25rem;">Специальность</div>

						<select class="js-example-programmatic custom-select" id="selSpec" name="specName" required>
							<option selected th:if="${specName!=null}" th:value="${specName}" th:text="${specName}" disabled/>
							<option th:each="specialty: ${specialtys}" th:value="${specialty.specialtyName}"
								th:text="${specialty.specialtyName} "></option>
						</select>
					</div>
                </div>
                
                <div style="display: flex; justify-content: center; align-items: center;">
                    <button style="font-size: 120%; width: 40%; margin: 0 auto;" type="submit" name="btnId" value="11"
                        class="btn btn-success" align="center">Посчитать</button>
                </div>
                </form>
                
                
           <div class="container">
            <div class="row">
                <div class="col-md-10">
                    <b style="margin-top: 0; margin-bottom: 0rem; font-size: 110%;">Количество человек: </b>
                    <th:block th:text="${selectionCommittees.size() + ' человек(а) '}" />
                </div>
                <div class="col-md-2"
                    style="padding-bottom: 0.5rem; padding-left: 2.25rem;">
                    </th:block>
                    
                </div>
            </div>
            </div>

                <div class="container text-center">
                <table class="table table-primary">
                    <thead>
                        <tr align="center">
                            <th scope="col">№ п/п</th>
                            <th scope="col">ФИО</th>
                            <th scope="col"></th>
                            <th scope="col" style="width: 250px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="sc: ${selectionCommittees}">
                                <input class="input-group-text" name="id" type="text" hidden="true" /> <input class="input-group-text" name="personId" type="text" hidden="true" />
                                <td align="center" bgcolor="#FFFFFF"><th:block
                                        th:text="${sc.id}" /></td>
                                <td align="center" bgcolor="#FFFFFF"><a
                                    th:href="@{/personSelCom?id={pid}(pid=${sc.id})}"><th:block
                                            th:text="${sc.person.surname+' '+sc.person.name+' '+sc.person.patronymic}" /></a></td>

                                 <td align="center" bgcolor="#FFFFFF"><th:block
                                        th:text="${sc.person.specialty1.SpecialtyName}" /></td>
                                <td align="center" bgcolor="#FFFFFF">
                                <form action="/transferSelComToStudent" method="post">
                                <div class="row">
                                  <div class="col-md-6">
                                <button type="submit" class="btn btn-success" >Зачислить</button>
                                  </div>
                                <div class="col-md-6">
                                <input name="personId" th:value="${sc.id}" hidden="true" />
                                <input name="specName" th:if="${specName!=null}" th:value="${specName}" hidden="true"/>
                                <select
									class="js-example-programmatic custom-select selGroup" name="groupId" required>
										<th:block th:each="group: ${groups}">
											<option th:value="${group.id}" th:text="${group.groupName}">ТИП</option>
										</th:block>
								</select>
							    
                                </div>
                                </div>
                                </form>
								</td>
                        </tr>
                    </tbody>
                </table>
                </div>
                
</div>
</div>
</div>

	<script>
		$(document).ready(function() {
			$('.selGroup').select2({
				maximumSelectionLength : 2,
				language : "ru"
			});
		});
	</script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/js/select2.min.js" defer></script>
				
 <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    <script type="text/javascript" th:src="@{/js/jquery.maskedinput.min.js}"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

    <script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/select2.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/ru.js}"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
    
    
        <script type="text/javascript"> $(".livesearch").chosen(); </script>
    
                    <script>
                        function myFunction(imgs) {
                            var expandImg = document
                                    .getElementById("expandedImg");
                            var imgText = document.getElementById("imgtext");
                            expandImg.src = imgs.src;
                            imgText.innerHTML = imgs.alt;
                            expandImg.parentElement.style.display = "block";
                        }
                    </script>
                    <script type="text/javascript">
                        $('#inputGroupFile04').on('change', function() {
                            //get the file name
                            var fileName = $(this).val();
                            // alert("file: "+fileName);
                            //replace the "Choose a file" label
                            var str = fileName.substr(12, fileName.lenght);
                            $(this).next('.custom-file-label').html(str);
                        })
                    </script>
                    <script type="text/javascript">
                        $('#inputGroupFile03').on('change', function() {
                            //get the file name
                            var fileName = $(this).val();
                            // alert("file: "+fileName);
                            //replace the "Choose a file" label
                            var str = fileName.substr(12, fileName.lenght);
                            $(this).next('.custom-file-label').html(str);
                        })
                    </script>

                    <script type="text/javascript">
                        function editInventory(img) {
                            var btnDone = document.getElementById("done_img"
                                    + img.id.slice(img.id.length - 1));
                            btnDone.removeAttribute('hidden');

                            var thDocName = document.getElementById("docName"
                                    + img.id.slice(img.id.length - 1));
                            thDocName.removeAttribute('disabled');

                            var thDate = document.getElementById("docDate"
                                    + img.id.slice(img.id.length - 1));
                            thDate.disabled = false;

                            var thSheetNumber = document
                                    .getElementById("sheetNumber"
                                            + img.id.slice(img.id.length - 1));
                            thSheetNumber.removeAttribute('disabled');

                            var thNote = document.getElementById("note"
                                    + img.id.slice(img.id.length - 1));
                            thNote.removeAttribute('disabled');
                            //console.log("note" + str.slice(str.length - 1));
                            //console.log(str.length);
                        }
                    </script>
                    
                    	<!-- livesearch -->
	<script> 
		$(document).ready(function() {
			$('#selSpec').select2({
				maximumSelectionLength : 2,
				language : "ru"
			});
		});
		
		$(document).ready(function() {
            $('#selTypePersonSettlement').select2({
                maximumSelectionLength : 2,
                language : "ru"
            });
        });
		
		
	</script>
    
</body>
</html>