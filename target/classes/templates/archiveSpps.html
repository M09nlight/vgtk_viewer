<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<title>Архив</title>
    <head th:replace="commons::head"></head>
    <body>
        <div th:replace="commons::navbar"></div>
        <div th:replace="commons::navSpps"></div>

        <div class="wrapper">
            <div class="container">
            
                <div class="row">
                            <div class="col-md-12" style="padding-right: 0px;">
                                <form th:action="@{/archiveSpps}" accept-charset="UTF-8" method="POST">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">Поиск по фио </div>
                                        </div>
                                        <input name="fio" class="form-control" type="text">
                                        <div class="input-group-append">
                                            <button type="submit" class="btn btn-success">Найти</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12" style="padding-right: 0px;">
                        <ul class="nav nav-tabs">
                            <li class="nav-item nav-link">
                                <a class="nav-link active" id="nav-sop-tab" data-toggle="tab" href="#nav-sop" role="tab" aria-selected="true" style="font-size: 100%; color:black;">СОП</a>
                            </li>
                            <li class="nav-item nav-link">
                                <a class="nav-link" id="nav-ipr-tab" data-toggle="tab" href="#nav-ipr" role="tab" aria-selected="false" style="font-size: 100%; color:black;">ИПР</a>
                            </li>
                            <li class="nav-item nav-link">
                                <a class="nav-link" id="nav-pirp-tab" data-toggle="tab" href="#nav-pirp" role="tab" aria-selected="false" style="font-size: 100%; color:black;">ПИРП</a>
                            </li>
                        </ul>
                    </div>

                </div>
                <div class = "tab-content" >
                    <div class="tab-pane fade show active" id="nav-sop" role="tabpanel" aria-labelledby="nav-sop-tab">
                        <!-- соп --> 
                        <table class="table table-primary">
                            <thead>
                                <tr>
                                    <th scope="col">№ п/п</th>
                                    <th scope="col">Отделение</th>
                                    <th scope="col">№ Группы</th>
                                    <th scope="col">ФИО</th>
                                    <th scope="col">Дата рождения</th>
                                    <th scope="col">Дата снятия с учета</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table-secondary" th:each="person, status: ${personsSop}">
                                    <td><th:block th:text="${status.count}" /></td>
                                    <td><th:block th:if="${person.otdel} != null" th:text="${T(by.vgtk.support.Functions).getAbbrOtdel(person.otdel)}" /></td>
                                    <td><th:block th:text="${person.group}" /></td>
                                    <td><a th:href="@{/person?id={pid}(pid=${person.id})}"><th:block th:text="${person.surname + ' ' + person.name + ' ' + person.patronymic}" /></a></td>
                                    <td><th:block th:text="${person.dateOfBirth}" /></td>
                                    <td><th:block th:text="${person.dateRemovedRegisterSop}" /></td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- соп -->    
                    </div>
                    <div class="tab-pane fade show" id="nav-ipr" role="tabpanel" aria-labelledby="nav-ipr-tab">
                        <!-- ипр -->
                        <table class="table table-primary">
                            <thead>
                                <tr>
                                    <th scope="col">№ п/п</th>
                                    <th scope="col">Отделение</th>
                                    <th scope="col">№ Группы</th>
                                    <th scope="col">ФИО</th>
                                    <th scope="col">Дата рождения</th>
                                    <th scope="col">Дата снятия с учета</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table-secondary" th:each="person, status: ${personsIpr}">
                                    <td><th:block th:text="${status.count}" /></td>
                                    <td><th:block th:if="${person.otdel} != null" th:text="${T(by.vgtk.support.Functions).getAbbrOtdel(person.otdel)}" /></td>
                                    <td><th:block th:text="${person.group}" /></td>
                                    <td><a th:href="@{/person?id={pid}(pid=${person.id})}"><th:block th:text="${person.surname + ' ' + person.name + ' ' + person.patronymic}" /></a></td>
                                    <td><th:block th:text="${person.dateOfBirth}" /></td>
                                    <td><th:block th:text="${person.dateRemovedRegisterIpr}" /></td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- ипр -->
                    </div>
                    <div class="tab-pane fade show" id="nav-pirp" role="tabpanel" aria-labelledby="nav-pirp-tab">
                        <!-- пирп -->
                        <table class="table table-primary">
                            <thead>
                                <tr>
                                    <th scope="col">№ п/п</th>
                                    <th scope="col">Отделение</th>
                                    <th scope="col">№ Группы</th>
                                    <th scope="col">ФИО</th>
                                    <th scope="col">Дата рождения</th>
                                    <th scope="col">Дата снятия с учета</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table-secondary" th:each="person, status: ${personsPirp}">
                                    <td><th:block th:text="${status.count}" /></td>
                                    <td><th:block th:if="${person.otdel} != null" th:text="${T(by.vgtk.support.Functions).getAbbrOtdel(person.otdel)}" /></td>
                                    <td><th:block th:text="${person.group}" /></td>
                                    <td><a th:href="@{/person?id={pid}(pid=${person.id})}"><th:block th:text="${person.surname + ' ' + person.name + ' ' + person.patronymic}" /></a></td>
                                    <td><th:block th:text="${person.dateOfBirth}" /></td>
                                    <td><th:block th:text="${person.dateRemovedRegisterPirp}" /></td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- пирп -->
                    </div>
                </div>
                
                <!-- <div class="row">
                                <div class="col-md-10" style="padding-right: 0px;">
                                    <form action="/sppsOrphanSearch" accept-charset="UTF-8" method="POST">
                                        <div class="input-group" style="border-top: 10px solid transparent;">
                                            <select class="custom-select" name="form" id="inputGroupSelect01">
                                                <option selected value="Все"> Все отделения </option>
                                                <option value="Профессионально-технологическое"> Профессионально-технологическое </option>
                                                <option value="Технико-технологическое"> Технико-технологическое </option>
                                                <option value="Архитектурно-строительное"> Архитектурно-строительное </option>
                                                <option value="Промышленно-технологическое"> Промышленно-технологическое </option>
                                            </select>
                                            <div class="input-group-append">
                                                <button type="submit" class="btn btn-success">Найти</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>-->
                               <!--  <div class="col-md-2" style="align-self: flex-end;">
                                    <form action="/downloadDocxOrphanByOtdel" accept-charset="UTF-8" method="POST">
                                        <input type="hidden" name="ot" class="form-control" th:value=${ot} >
                                        <button type="submit" class="btn btn-success" style="width: 100%;">Скачать Word</button>
                                    </form>
                                </div>
                             </div>--> 
                                    
                                   <!-- <h5 th:if="${otdel != null}" style="border-top: 10px solid transparent; text-align: center;"><th:block th:text="${otdel}"/></h5>-->
                
            </div>
        </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/20.0.0/classic/ckeditor.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</body>
</html>