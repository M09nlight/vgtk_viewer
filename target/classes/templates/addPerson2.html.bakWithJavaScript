<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<title>Добавление</title>
<head th:replace="commons::head"></head>
<style>
.col-30 {
	-ms-flex: 0 0 30%;
	flex: 0 0 30%;
	max-width: 30%;
}

.col-70 {
	-ms-flex: 0 0 70%;
	flex: 0 0 70%;
	max-width: 70%;
}

.select2-selection__rendered {
	line-height: 36px !important;
}

.select2-container .select2-selection--single {
	height: 36px !important;
	margin-top: 1px;
}

.select2-selection__arrow {
	height: 34px !important;
}

.select2-container--default {
	border-left-width: 0px;
	border-right-width: 0px;
	border-top-width: 0px;
	border-bottom-width: 0px;
}
</style>
<body>
	<div th:replace="commons::navbar(active='messages')"></div>

	<div class="wrapper">
		<div class="container" style="width: 70%;">

			<link rel="stylesheet" href="https://snipp.ru/cdn/select2/4.0.13/dist/css/select2.min.css">

			<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
			<script type="text/javascript" th:src="@{/js/select2.min.js}"></script>
			<script type="text/javascript" th:src="@{/js/ru.js}"></script>

			<th:block th:if="${errors.size() != 0}" th:each="e: ${errors}">
				<div class="alert alert-warning" role="alert">
					<th:block th:text="'Ошибка: ' + ${e}" />
				</div>
			</th:block>

			<th:block th:if="${done != null}">
				<div class="alert alert-success alert-dismissible fade show" role="alert">
					<strong>Добавление прошло успешно</strong>
					<button type="button" class="close" data-dismiss="alert" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
			</th:block>

			<form action="/personAdd" accept-charset="UTF-8" method="POST" enctype="multipart/form-data">

				<div class="container">
					<div class="row">
						<div class="col-md-7"></div>
						<div class="col-md-5" style="text-align: right; color: #6c757d">
							*Все поля обязательны для заполнения <br> Если нет информации, ставим прочерк (-)
						</div>
					</div>
				</div>


				<hr>
				<!-- will embedded -->

				<!--  <input id="inputTest"></input> -->



				<div class="input-group mb-3">
					<th:block th:if="${personInfo != null}">
						<input type="hidden" name="id" th:value="${personInfo.id}" />
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Фамилия*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required maxlength="64" type="text"
							pattern="^[А-ЯЁ][а-яё]*([-][А-ЯЁ][а-яё]*)?$" onchange ="this.reportValidity()"
							name="surname" class="form-control" placeholder="Введите фамилию">
						<input sec:authorize="hasRole('ROLE_SPPS')" required maxlength="64" type="text" name="surname"
							class="form-control" placeholder="Введите фамилию" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required maxlength="64" type="text"
							pattern="^[А-ЯЁ][а-яё]*([-][А-ЯЁ][а-яё]*)$?" 
							name="surname" th:value="${personInfo.surname}" class="form-control" placeholder="Введите фамилию">
						<input sec:authorize="hasRole('ROLE_SPPS')" required maxlength="64" type="text" name="surname"
							th:value="${personInfo.surname}" class="form-control" placeholder="Введите фамилию" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Имя*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required maxlength="64" type="text"
							name="name" class="form-control" placeholder="Введите имя"
							pattern="^[А-ЯЁ][а-яё]*$" onchange="this.reportValidity()">
						<input sec:authorize="hasRole('ROLE_SPPS')" required maxlength="64" type="text" name="name" class="form-control"
							placeholder="Введите имя" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required maxlength="64" type="text"
							pattern="^[А-ЯЁ][а-яё]*$" onchange="this.reportValidity()"
							name="name" th:value="${personInfo.name}" class="form-control" placeholder="Введите имя">
						<input sec:authorize="hasRole('ROLE_SPPS')" required maxlength="64" type="text" name="name"
							th:value="${personInfo.name}" class="form-control" placeholder="Введите имя" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Отчество*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							pattern="^[А-ЯЁ-]([а-яё]*$)?" onchange="this.reportValidity()"
							name="patronymic" class="form-control" placeholder="Введите отчество или прочерк ">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="patronymic"
							class="form-control" placeholder="Введите отчество" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="patronymic" th:value="${personInfo.patronymic}" class="form-control"
							pattern="^[А-ЯЁ-]([а-яё]*$)?" onchange="this.reportValidity()"
							placeholder="Введите отчество (если нет, то -)">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="patronymic"
							th:value="${personInfo.patronymic}" class="form-control" placeholder="Введите отчество или прочерк" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">ФИО в род.падеже*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="192"
							pattern="^[А-ЯЭ][а-яэ]*([-][А-ЯЭ][а-яэ]*)?\s[А-ЯЭ][а-яэ]*(\s[А-ЯЭ][а-яэ]*$)?" onchange="this.reportValidity()"
							name="rodFIO" class="form-control" placeholder="Введите ФИО в родительном падеже">
						<input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="192" name="rodFIO" class="form-control"
							placeholder="Введите ФИО в родительном падеже" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="192"
							pattern="^[А-ЯЭ][а-яэ]*([-][А-ЯЭ][а-яэ]*)?\s[А-ЯЭ][а-яэ]*(\s[А-ЯЭ][а-яэ]*$)?" onchange="this.reportValidity()"
							name="rodFIO" th:value="${personInfo.rodFIO}" class="form-control" placeholder="Введите ФИО в родительном падеже">
						<input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="192" name="rodFIO"
							th:value="${personInfo.rodFIO}" class="form-control" placeholder="Введите ФИО в родительном падеже" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">ФИО в дат.падеже*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="192"
							pattern="^[А-ЯЭ][а-яэ]*([-][А-ЯЭ][а-яэ]*)?\s[А-ЯЭ][а-яэ]*(\s[А-ЯЭ][а-яэ]*$)?" onchange="this.reportValidity()"
							name="datFIO" class="form-control" placeholder="Введите ФИО в дательном падеже">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="192" name="datFIO"
							class="form-control" placeholder="Введите ФИО в дательном падеже" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="192"
							pattern="^[А-ЯЭ][а-яэ]*([-][А-ЯЭ][а-яэ]*)?\s[А-ЯЭ][а-яэ]*(\s[А-ЯЭ][а-яэ]*$)?" onchange="this.reportValidity()"
							name="datFIO" th:value="${personInfo.datFIO}" class="form-control" placeholder="Введите ФИО в дательном падеже">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="192" name="datFIO"
							th:value="${personInfo.datFIO}" class="form-control" placeholder="Введите ФИО в дательном падеже" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Дата рождения*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="date" name="dateOfBirth"
						 	min="1900-01-01" max="2021-01-01" 
							class="form-control">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="date" name="dateOfBirth" class="form-control" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="date" name="dateOfBirth"
							th:value="${personInfo.dateOfBirth}" class="form-control"
							min="1900-01-01" max="2021-01-01">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="date" name="dateOfBirth"
							th:value="${personInfo.dateOfBirth}" class="form-control" disabled
				>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Серия и номер паспорта*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="passport" class="form-control" placeholder="Введите серию и номер пасспорта">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="passport"
							class="form-control" placeholder="Введите серию и номер пасспорта" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="passport" th:value="${personInfo.passport}" class="form-control"
							placeholder="Введите серию и номер пасспорта">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="passport"
							th:value="${personInfo.passport}" class="form-control" placeholder="Введите серию и номер пасспорта" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Идентификационный номер*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="identNumber" class="form-control" placeholder="Введите идентификационный номер">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="identNumber"
							class="form-control" placeholder="Введите идентификационный номер" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="identNumber" th:value="${personInfo.identNumber}" class="form-control"
							placeholder="Введите идентификационный номер">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="identNumber"
							th:value="${personInfo.identNumber}" class="form-control" placeholder="Введите идентификационный номер" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Кем выдан*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="issuedBy" class="form-control" placeholder="Введите кем выдан пасспорт">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="issuedBy"
							class="form-control" placeholder="Введите кем выдан пасспорт" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="issuedBy" th:value="${personInfo.issuedBy}" class="form-control" placeholder="Введите кем выдан пасспорт">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="issuedBy"
							th:value="${personInfo.issuedBy}" class="form-control" placeholder="Введите кем выдан пасспорт" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Пол*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="gender" id="SelectGender">
							<option selected value="м">М</option>
							<option value="ж">Ж</option>
						</select>
						<select sec:authorize="hasRole('ROLE_SPPS')" required class="custom-select" name="gender" id="SelectGender"
							disabled>
							<option selected value="м">М</option>
							<option value="ж">Ж</option>
						</select>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="gender" id="SelectGender">
							<option selected th:value="${personInfo.gender}">
								<th:block th:text="${personInfo.gender}" />
							</option>
							<option value="м">М</option>
							<option value="ж">Ж</option>
						</select>
						<select sec:authorize="hasRole('ROLE_SPPS')" required class="custom-select" name="gender" id="SelectGender"
							disabled>
							<option selected th:value="${personInfo.gender}">
								<th:block th:text="${personInfo.gender}" />
							</option>
							<option value="м">М</option>
							<option value="ж">Ж</option>
						</select>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Адрес проживания*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="homeAddress" class="form-control" placeholder="Введите адрес проживания">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="homeAddress"
							class="form-control" placeholder="Введите адрес проживания" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="homeAddress" th:value="${personInfo.homeAddress}" class="form-control"
							placeholder="Введите адрес проживания">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="homeAddress"
							th:value="${personInfo.homeAddress}" class="form-control" placeholder="Введите адрес проживания" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Мобильный телефон*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="16"
							pattern="[+]375[0-9]{9}" onchange="this.reportValidity()" 
							name="phoneNumber" class="form-control" placeholder="Введите мобильный телефон в формате: +375XXXXXXXXX"
							>
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="16" name="phoneNumber"
							class="form-control" placeholder="Введите мобильный телефон" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
							pattern="[+]375[0-9]{9}" onchange="this.reportValidity()" 
							name="phoneNumber" th:value="${personInfo.phoneNumber}" class="form-control"
							placeholder="Введите мобильный телефон"
							>
						<input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="16" name="phoneNumber"
							th:value="${personInfo.phoneNumber}" class="form-control" placeholder="Введите мобильный телефон" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Школа*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="school" class="form-control" placeholder="Введите информацию о школе и дате окончания">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="school"
							class="form-control" placeholder="Введите информацию о школе и дате окончания" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="school" th:value="${personInfo.school}" class="form-control"
							placeholder="Введите информацию о школе и дате окончания">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="school"
							th:value="${personInfo.school}" class="form-control" placeholder="Введите информацию о школе и дате окончания"
							disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">УО*</div>
					</div>
					<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
						name="UOGraduationYear" th:value="${personInfo != null ? personInfo.UOGraduationYear : ''}" class="form-control"
						placeholder="Введите информацию о учреждении образования и дате окончания"> <input
						sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="UOGraduationYear"
						th:value="${personInfo != null ? personInfo.UOGraduationYear : ''}" class="form-control"
						placeholder="Введите информацию о учреждении образования и дате окончания" disabled>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">ФИО и номер матери*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="mother" class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ" 
							pattern="^[А-ЯЭ][а-яэ]*([-][А-ЯЭ][а-яэ]*)?\s[А-ЯЭ][а-яэ]*(\s[А-ЯЭ][а-яэ]*){0,1},\s[+]375[0-9]{9}" onchange="this.reportValidity()">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="mother"
							class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="mother" th:value="${personInfo.mother}" class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ"
							pattern="^[А-ЯЭ][а-яэ]*([-][А-ЯЭ][а-яэ]*)?\s[А-ЯЭ][а-яэ]*(\s[А-ЯЭ][а-яэ]*){0,1},\s[+]375[0-9]{9}" onchange="this.reportValidity()">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="mother"
							th:value="${personInfo.mother}" class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">ФИО и номер отца*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="dad" class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="dad" class="form-control"
							placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="dad" th:value="${personInfo.dad}" class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="dad"
							th:value="${personInfo.dad}" class="form-control" placeholder="Формат: Фамилия Имя Отчество, +375ХХХХХХХХХ" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Адрес родителей*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="parentsAddress" class="form-control" placeholder="Введите адрес родителей">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="parentsAddress"
							class="form-control" placeholder="Введите адрес родителей" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="parentsAddress" th:value="${personInfo.parentsAddress}" class="form-control"
							placeholder="Введите адрес родителей">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="parentsAddress"
							th:value="${personInfo.parentsAddress}" class="form-control" placeholder="Введите адрес родителей" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Место работы родителей*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="parentsJobs" class="form-control" placeholder="Введите место работы родителей">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="parentsJobs"
							class="form-control" placeholder="Введите место работы родителей" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="128"
							name="parentsJobs" th:value="${personInfo.parentsJobs}" class="form-control"
							placeholder="Введите место работы родителей">
						<input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="128" name="parentsJobs"
							th:value="${personInfo.parentsJobs}" class="form-control" placeholder="Введите место работы родителей" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Необходимость общежития*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="dormitory" id="inputGroupSelect01">
							<option selected value="да">Да</option>
							<option value="нет">Нет</option>
						</select>
						<select sec:authorize="hasRole('ROLE_SPPS')" required disabled class="custom-select" name="dormitory"
							id="inputGroupSelect01">
							<option selected value="да">Да</option>
							<option value="нет">Нет</option>
						</select>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="dormitory" id="inputGroupSelect01">
							<option selected th:value="${personInfo.dormitory}">
								<th:block th:text="${personInfo.dormitory}" />
							</option>
							<option value="да">Да</option>
							<option value="нет">Нет</option>
						</select>
						<select sec:authorize="hasRole('ROLE_SPPS')" required disabled class="custom-select" name="dormitory"
							id="inputGroupSelect01">
							<option selected th:value="${personInfo.dormitory}">
								<th:block th:text="${personInfo.dormitory}" />
							</option>
							<option value="да">Да</option>
							<option value="нет">Нет</option>
						</select>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Документ образования*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="educationDocument" class="form-control" placeholder="Введите документ образования">
						<input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="64" name="educationDocument"
							class="form-control" placeholder="Введите документ образования" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="educationDocument" th:value="${personInfo.educationDocument}" class="form-control"
							placeholder="Введите документ образования">
						<input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="64" name="educationDocument"
							th:value="${personInfo.educationDocument}" class="form-control" placeholder="Введите документ образования"
							disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Номер аттестата*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="certificateNumber" class="form-control" placeholder="Введите номер аттестата">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="certificateNumber"
							class="form-control" placeholder="Введите номер аттестата" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="certificateNumber" th:value="${personInfo.certificateNumber}" class="form-control"
							placeholder="Введите номер аттестата">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="certificateNumber"
							th:value="${personInfo.certificateNumber}" class="form-control" placeholder="Введите номер аттестата" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Средний балл*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="number" step="0.1" min="0"
							max="10" name="averageScore" class="form-control" placeholder="Введите балл от 0 до 10">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="number" step="0.1" min="0" max="10" name="averageScore"
							class="form-control" placeholder="Введите балл от 0 до 10" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="number" step="0.1" min="0"
							max="10" th:value="${personInfo.averageScore}" name="averageScore" class="form-control"
							placeholder="Введите балл от 0 до 10">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="number" step="0.1" min="0" max="10"
							th:value="${personInfo.averageScore}" name="averageScore" class="form-control"
							placeholder="Введите балл от 0 до 10" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Иностранный язык*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<!-- РЕШИТЬ ЧТО С РОЛЯМИ -->
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="foreignLanguage" id="inputGroupSelect01">
							<option selected value="">Нет</option>
							<option value="Немецкий">Немецкий</option>
							<option value="Английский">Английский</option>
							<option value="Французский">Французский</option>
							<option value="Испанский">Испанский</option>
						</select>

						<select sec:authorize="hasRole('ROLE_SPPS')" required class="custom-select" name="foreignLanguage"
							id="inputGroupSelect01" disabled>
							<option selected value="">Нет</option>
							<option value="Немецкий">Немецкий</option>
							<option value="Английский">Английский</option>
							<option value="Французский">Французский</option>
							<option value="Испанский">Испанский</option>
						</select>

						<!--   <input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="64" name="foreignLanguage" class="form-control" placeholder="Введите иностранный язык">
                        <input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="64" name="foreignLanguage" class="form-control" placeholder="Введите иностранный язык" disabled>
                         -->
					</th:block>
					<th:block th:if="${personInfo != null}">

						<!--  дублируется select -->
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="foreignLanguage" id="inputGroupSelect01">
							<option selected th:selected="${personInfo.foreignLanguage}" th:text="${personInfo.foreignLanguage}" disabled>Ваш
								язык</option>
							<option value="Немецкий">Немецкий</option>
							<option value="Английский">Английский</option>
							<option value="Французский">Французский</option>
							<option value="Испанский">Испанский</option>
						</select>

						<select sec:authorize="hasRole('ROLE_SPPS')" required class="custom-select" name="foreignLanguage"
							id="inputGroupSelect01" disabled>
							<option selected th:value="${personInfo.foreignLanguage}">
								<th:block th:text="${personInfo.foreignLanguage}" />
							</option>

						</select>

						<!-- 
                        <input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" 
                        type="text" maxlength="64" name="foreignLanguage" th:value="${personInfo.foreignLanguage}"
                        class="form-control" placeholder="Введите иностранный язык">
                         
                        <input sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="64" name="foreignLanguage" 
                        th:value="${personInfo.foreignLanguage}" class="form-control" placeholder="Введите иностранный язык" disabled>
                         -->
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Доп. информация*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="256"
							name="dopInfo" class="form-control" placeholder="Введите дополнительную информацию">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="256" name="dopInfo"
							class="form-control" placeholder="Введите дополнительную информацию" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="256"
							name="dopInfo" th:value="${personInfo.dopInfo}" class="form-control"
							placeholder="Введите дополнительную информацию">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="256" name="dopInfo"
							th:value="${personInfo.dopInfo}" class="form-control" placeholder="Введите дополнительную информацию" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
                    <div class="input-group-prepend w-30">
                        <div class="input-group-text w-100">Форма обучения*</div>
                    </div>
                    <select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
                        name="formOfEducation" id="formOfEducation">
                        <option th:if="${personInfo == null}" selected value="-1">Не выбрано</option>
                        <option th:if="${personInfo != null}" th:selected="${personInfo.formOfEducation}"
                            th:value="${personInfo.formOfEducation}" th:text="${personInfo.formOfEducation}" disabled>Форма обучения</option>
                        <option value="Дневная">Дневная</option>
                        <option value="Заочная">Заочная</option>
                        <option value="Вечерняя">Вечерняя</option>
                    </select> <select sec:authorize="hasRole('ROLE_SPPS')" required disabled class="custom-select" name="formOfEducation"
                        id="formOfEducation">
                        <option th:if="${personInfo == null}" selected value="-1">Не выбрано</option>
                        <option th:if="${personInfo != null}" th:selected="${personInfo.formOfEducation}"
                            th:value="${personInfo.formOfEducation}" th:text="${personInfo.formOfEducation}">Форма обучения</option>
                    </select>
                </div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Форма образования*</div>
					</div>

					<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" class="custom-select"
						name="formOfEducation1" id="tuitionFee" required>
						<option th:if="${personInfo == null}" value="-1" selected>Не выбрано</option>
						<option th:if="${personInfo != null}" selected th:selected="${personInfo.formOfEducation1}"
							th:text="${personInfo.formOfEducation1}" disabled>ТИП</option>
						  <option value="Бюджет">Бюджет</option>
                        <option value="Платное">Платное</option>
					</select>

					<!-- зачем страница добавления, если spps? -->
					<select sec:authorize="hasRole('ROLE_SPPS')" required class="custom-select" name="formOfEducation1" id="tuitionFee" disabled>
						<option th:if="${personInfo == null}" selected value="">Нет</option>
						<option th:if="${personInfo != null}" selected th:selected="${personInfo.formOfEducation1}"
							th:text="${personInfo.formOfEducation1}">Ваш тип SPPS</option>
					</select>

				</div>



				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Тип образования*</div>
					</div>

					<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" class="custom-select"
						id="selGender" name="specialty1.department.departmentEducationType" required>
						<option th:if="${personInfo == null}" value="-1" selected>Не выбрано</option>
						<option th:if="${personInfo != null}" selected
							th:selected="${personInfo.specialty1.department.departmentEducationType}"
							th:text="${personInfo.specialty1.department.departmentEducationType}"
							th:value="${personInfo.specialty1.department.departmentEducationType}">ТИП</option>
						<option value="ПТО">ПТО</option>
						<option value="ССО">ССО</option>
					</select>

					<!-- зачем страница добавления, если spps? -->
					<select sec:authorize="hasRole('ROLE_SPPS')" required class="custom-select" id="selGender"
						name="specialty1.department.departmentEducationType" disabled >
						<option th:if="${personInfo == null}" selected value="-1">Нет</option>
						<option th:if="${personInfo != null}" selected
							th:selected="${personInfo.specialty1.department.departmentEducationType}"
							th:text="${personInfo.specialty1.department.departmentEducationType}">Ваш тип SPPS</option>
						<option value="ПТО">ПТО</option>
						<option value="ССО">ССО</option>
					</select>

				</div>
				
				<div id="wrapperId">
                    <div class="input-group mb-3">
                        <div class="container">
                            <div class="row">
                                <div class="col-30">
                                    <div class="input-group-text w-100">Отделение*</div>
                                </div>
                                <div class="col-70">

                               <th:block th:if="${personInfo == null}">
                        <!--  req -->
                        <select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" class="js-example-programmatic custom-select"
                            name="department.id" id="inputDepartmentSelect01" required>
                            <option selected value="">Нет</option>
                            <option th:each="dep : ${departments}" th:value="${dep.id}" th:text="${dep.departmentName}"></option>
                        </select>
                        <select sec:authorize="hasRole('ROLE_SPPS')" disabled class="js-example-programmatic custom-select" name="department.id"
                            id="inputDepartmentSelect01">
                            <option selected value="">Нет</option>
                            <option th:each="dep : ${departments}" th:value="${dep.id}" th:text="${dep.departmentName}"></option>
                        </select>
                    </th:block>
                    <th:block th:if="${personInfo != null}">
                        <select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" class="js-example-programmatic custom-select"
                            name="department.id" id="inputDepartmentSelect01">
                            <!--  no req -->
                            <option selected th:value="${personInfo.department.id}" th:text="${personInfo.department.departmentName}"
                                disabled></option>
                            <option th:each="dep : ${departments}" th:value="${dep.id}" th:text="${dep.departmentName}"></option>
                            <option value="-1">Нет</option>
                        </select>
                        <!--  <input name="department.id" th:value="${personInfo.department.id}"  type="hidden"> -->
                        <select sec:authorize="hasRole('ROLE_SPPS')" class="js-example-programmatic custom-select" name="department.id"
                            id="inputGroupSelect01" disabled>
                            <option selected th:value="${personInfo.department.id}">
                                <th:block th:text="${personInfo.department.departmentName}" />
                            </option>
                            <option th:each="dep : ${departments}" th:value="${dep.id}" th:text="${dep.departmentName}"></option>
                            <option value="-2">Нет</option>
                        </select>
                    </th:block>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

				<div id="wrapperId">
					<div class="input-group mb-3" id="divSpecialty">
						<div class="container">
							<div class="row">
								<div class="col-30">
									<div class="input-group-text w-100">Специальность</div>
								</div>
								<div class="col-70">

									<!-- select class="custom-select sel_class" id="selSpec" name="specialty1.id" style="margin-left: 0px;"></select-->

									<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')"
										class="js-example-programmatic custom-select" id="selSpec" name="specialty1.id" onClick="alert('hello')" required>
										<option th:if="${personInfo == null}" value="-2" selected>Не выбрано</option>
										<option th:if="${personInfo != null}" selected th:selected="${personInfo.specialty1.id}"
											th:value="${personInfo.specialty1.id}" th:text="${personInfo.specialty1.specialtyName}">ТИП</option>
									</select>
									<!-- тут ошибка -->
									<select sec:authorize="hasRole('ROLE_SPPS')" class="js-example-programmatic custom-select" id="selSpec"
										name="specialty1.id" onClick="alert('hello')" disabled>
										<option th:if="${personInfo == null}" value="-2" selected>Не выбрано</option>
										<option th:if="${personInfo != null}" selected th:selected="${personInfo.specialty1.id}"
											th:value="${personInfo.specialty1.id}" th:text="${personInfo.specialty1.specialtyName}">ТИП</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div id="wrapperId">
					<div class="input-group mb-3" id="divSpecialty">
						<div class="container">
							<div class="row">
								<div class="col-30">
									<div class="input-group-text w-100">Квалификация*</div>
								</div>
								<div class="col-70">
									<ul sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" class="list-group" id="listKvId">
										<li class="list-group-item" style="padding-bottom: 6px; padding-top: 6px;">Выберите специальность</li>
									</ul>
									<ul sec:authorize="hasRole('ROLE_SPPS')" class="list-group" id="listKvId">
										<li class="list-group-item" style="padding-bottom: 6px; padding-top: 6px;">Выберите специальность</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<style>
ul.nav li.selected {
	background-color: red;
}
</style>

				<!-- <script type="text/javascript">

 let setIdVar=document.getElementById("selGender");
 let setSpecVar=document.getElementById("selSpec");
 
 
 let selVal1=setIdVar.options[setIdVar.selectedIndex].value;
 let selVal2=setSpecVar.options[setSpecVar.selectedIndex].value;
  
 
 //getSpecialityRest
 
if(selVal1!=-1){
     getSpecialityRest()
}
if(selVal2!=-2){
     getProfessionRest()
}
 
//select 1 получить специальности после выбора ссо или пто
 async function getSpecialityRest(){
    
    let selVal=setIdVar.options[setIdVar.selectedIndex].value;
    console.log("selVal getSpecialityRest: "+selVal);
    let url = 'http://127.0.0.1:8080/specialityrest/?value='+selVal;
    let response = await fetch(url);

    let commits = await response.json(); //читаем ответ в формате JSON

    if(setSpecVar.options[setSpecVar.selectedIndex].value!=-1){
        setSpecVar.length=1;
    }else{
        setSpecVar.length=0;
    }
    
    for(var i of commits){
        setSpecVar.add(new Option(i.specialtyName,i.id));   
    }
    
    if(selVal!=-1){
    getProfessionRest();
    }else{
         var ul = document.getElementById("listKvId");
            //delete all li
            while( ul.firstChild ){ 
                ul.removeChild( ul.firstChild );
            }
          //buffer li
            var li0=document.createElement('li')
            ul.appendChild(li0);
            li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px;\">Выберите специальность</li>"
                    setSpecVar.add(new Option("Не выбрано",));   
    }
    
    
}
 //select 2
 async function getProfessionRest(){
     
    let selVal=setSpecVar.options[setSpecVar.selectedIndex].value;
    console.log(selVal+'hello getProfessionRest');
    //if(typeof selVal == "undefined")
    //    alert("Undefined");
    //else
        //  alert("Not undefined");
    
    if(selVal==-2){
        var ul = document.getElementById("listKvId");
        //delete all li
        while( ul.firstChild ){ 
            ul.removeChild( ul.firstChild );
        }
      //buffer li
        var li0=document.createElement('li')
        ul.appendChild(li0);
        li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px;\">Выберите специальность</li>"
                setSpecVar.add(new Option("Не выбрано",));   
    }
    
    if(selVal!=-2){
    	console.log("selVAL profserest: "+selVal)
    let url = 'http://127.0.0.1:8080/professionrest/?value='+selVal;
    let response = await fetch(url);
    let commits = await response.json(); //читаем ответ в формате JSON

    var ul = document.getElementById("listKvId");
    
    //delete all li
    while( ul.firstChild ){ 
        ul.removeChild( ul.firstChild );
    }
 
    //buffer li
    var li0=document.createElement('li')
    ul.appendChild(li0);
    li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px; color:red;\">Данные не получены из контроллера</li>"

    var li6=document.createElement('li')
        li6.setAttribute("class","list-group-item");
        li6.setAttribute("style","padding-bottom: 6px;padding-top: 6px; background: #EEEEEE;");
        
        for(var i=0;i<commits.length;i++){
            
            if(i==0){
                li6.textContent=commits[i].name
                ul.replaceChild(li6,ul.firstElementChild);
            }else{
             var newli6=li6.cloneNode(true)
             li6.textContent=commits[i].name
             ul.appendChild(newli6)
            }
        }
        
            var el=document.getElementsByClassName("select2-selection select2-selection--single");
            //console.log(el);
            //el.setAttribute("style","padding-bottom: 6px;padding-top: 6px;");
            
    }
}
 
 
setIdVar.addEventListener("change",getSpecialityRest)
setSpecVar.addEventListener("click",getProfessionRest)

</script> -->

			
			<div id="wrapperId">
                    <div class="input-group mb-3">
                        <div class="container">
                            <div class="row">
                                <div class="col-30">
                                    <div class="input-group-text w-100">Группа*</div>
                                </div>
                                <div class="col-70">
					
					<th:block th:if="${personInfo == null}">
						<!--  no req -->
						<select class="js-example-programmatic custom-select" sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')"
							name="group1.id" id="selectInputGroupSelect01" >
							<option selected value="">Нет</option>
							<option th:each="group : ${groups}" th:value="${group.id}" th:text="${group.groupName}"></option>
						</select>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<select class="js-example-programmatic custom-select" sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required
							name="group1.id" id="selectInputGroupSelect01">
							<option selected th:value="${personInfo.group1.id}" th:text="${personInfo.group1.groupName}"></option>
							<option th:each="group : ${groups}" th:value="${group.id}" th:text="${group.groupName}"></option>
							<option value="">Нет</option>
						</select>
						<select class="js-example-programmatic custom-select" sec:authorize="hasRole('ROLE_SPPS')" required disabled name="group1.id"
							id="selectInputGroupSelect01">
							<option selected th:value="${personInfo.group1.id}" th:text="${personInfo.group1.groupName}"></option>
							<option th:each="group : ${groups}" th:value="${group.id}" th:text="${group.groupName}"></option>
							<option value="">Нет</option>
						</select>
					</th:block>
					</div>
					</div>
					</div>
					</div>
					</div>


				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Год поступления*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="number" name="yearAdmission"
							min="2000" max="2050" 
							class="form-control" placeholder="Введите год поступления">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" name="yearAdmission" class="form-control"
							placeholder="Введите год поступления" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="number" name="yearAdmission"
							min="2000" max="2050" 
							th:value="${personInfo.yearAdmission}" class="form-control" placeholder="Введите год поступления">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" name="yearAdmission"
							th:value="${personInfo.yearAdmission}" class="form-control" placeholder="Введите год поступления" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Год окончания*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="number" name="yearEnding"
							min="2000" max="2050" 
							class="form-control" placeholder="Введите год окончания">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="number" name="yearEnding" class="form-control"
							placeholder="Введите год окончания" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="number" name="yearEnding"
							min="2000" max="2050" 
							th:value="${personInfo.yearEnding}" class="form-control" placeholder="Введите год окончания">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="number" name="yearEnding"
							th:value="${personInfo.yearEnding}" class="form-control" placeholder="Введите год окончания" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Курс*</div>
					</div>
					<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="number" name="course"
						th:value="${personInfo != null ? personInfo.course : ''}" class="form-control" placeholder="Введите курс"
						max="6" min="1">
					<input sec:authorize="hasRole('ROLE_SPPS')" required type="number" name="course"
						th:value="${personInfo != null ? personInfo.course : ''}" class="form-control" placeholder="Введите курс" disabled>
				</div>



				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Дата поступления в УО*</div>
					</div>
					<input class="form-control" sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')"  type="text"
						maxlength="128" name="orderOfAdmission" id="orderOfAdmission"
						th:value="${personInfo != null ? personInfo.orderOfAdmission : ''}" placeholder="Введите номер и дату приказа">
					<input sec:authorize="hasRole('ROLE_SPPS')"  type="text" maxlength="128" name="orderOfAdmission"
						th:value="${personInfo != null ? personInfo.orderOfAdmission : ''}" class="form-control"
						placeholder="Введите номер и дату приказа" disabled>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Дата окончания УО*</div>
					</div>
					<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="128"
						name="orderOfEnd" id="orderOfEnd" th:value="${personInfo != null ? personInfo.orderOfEnd : ''}"
						class="form-control" placeholder="Введите номер и дату приказа"> <input
						sec:authorize="hasRole('ROLE_SPPS')" type="text" maxlength="128" name="orderOfEnd"
						th:value="${personInfo != null ? personInfo.orderOfEnd : ''}" class="form-control"
						placeholder="Введите номер и дату приказа" disabled>
				</div>



				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Льготы*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="privileges" class="form-control" placeholder="Введите льготы">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="privileges"
							class="form-control" placeholder="Введите льготы" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="privileges" th:value="${personInfo.privileges}" class="form-control" placeholder="Введите льготы">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="privileges"
							th:value="${personInfo.privileges}" class="form-control" placeholder="Введите льготы" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Др.документы*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="otherDocs" class="form-control" placeholder="Введите другие документы">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="otherDocs"
							class="form-control" placeholder="Введите другие документы" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="128"
							name="otherDocs" th:value="${personInfo.otherDocs}" class="form-control" placeholder="Введите другие документы">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="128" name="otherDocs"
							th:value="${personInfo.otherDocs}" class="form-control" placeholder="Введите другие документы" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Гражданство*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="citizenship" class="form-control" placeholder="Введите гражданство">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="citizenship"
							class="form-control" placeholder="Введите гражданство" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="64"
							name="citizenship" th:value="${personInfo.citizenship}" class="form-control" placeholder="Введите гражданство">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="64" name="citizenship"
							th:value="${personInfo.citizenship}" class="form-control" placeholder="Введите гражданство" disabled>
					</th:block>
				</div>
				
				
				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Тип*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="type" id="inputGroupSelect01">
							<option selected value="учащийся">Учащийся</option>
							<option value="работник колледжа">Работник колледжа</option>
							<option value="другое">Другое</option>
						</select>
						<select sec:authorize="hasRole('ROLE_SPPS')" required disabled class="custom-select" name="type"
							id="inputGroupSelect01">
							<option selected value="учащийся">Учащийся</option>
							<option value="работник колледжа">Работник колледжа</option>
							<option value="другое">Другое</option>
						</select>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-select"
							name="type" id="inputGroupSelect01">
							<option th:if="${personInfo.type != null}" selected th:value="${personInfo.type}">
								<th:block th:text="${personInfo.type}" />
							</option>
							<option th:if="${personInfo.type == null}" selected value="учащийся" disabled>
							<th:block>Учащийся</th:block>
                            </option>
							<option value="учащийся">Учащийся</option>
							<option value="работник колледжа">Работник колледжа</option>
							<option value="другое">Другое</option>
						</select>
						<select sec:authorize="hasRole('ROLE_SPPS')" required disabled class="custom-select" name="type"
							id="inputGroupSelect01">
							<option selected th:value="${personInfo.type}" >
								<th:block th:text="${personInfo.type}" />
							</option>
							<option value="учащийся" >Учащийся</option>
							<option value="работник колледжа">Работник колледжа</option>
							<option value="другое">Другое</option>
						</select>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Семейное положение*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="16"
							name="maritalStatus" class="form-control" placeholder="Введите семейное положение">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="16" name="maritalStatus"
							class="form-control" placeholder="Введите семейное положение" disabled>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="text" maxlength="16"
							name="maritalStatus" th:value="${personInfo.maritalStatus}" class="form-control"
							placeholder="Введите семейное положение">
						<input sec:authorize="hasRole('ROLE_SPPS')" required type="text" maxlength="16" name="maritalStatus"
							th:value="${personInfo.maritalStatus}" class="form-control" placeholder="Введите семейное положение" disabled>
					</th:block>
				</div>

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Статус семьи*</div>
					</div>
					<th:block th:if="${personInfo == null}">
						<select class="custom-select" name="familyStatus" id="inputGroupSelect01" required>
							<option selected value="полная семья">Полная семья</option>
							<option value="неполная семья">Неполная семья</option>
							<option value="многодетная-полная семья">Многодетная-полная семья</option>
							<option value="многодетная-неполная семья">Многодетная-неполная семья</option>
							<option value="дети-сироты">Дети-сироты</option>
							<option value="дети оставшиеся без попечения родителей">Дети оставшиеся без попечения родителей</option>
							<option value="лица из числа детей сирот">Лица из числа детей сирот</option>
							<option value="лица оставшиеся без попечения родителей">Лица оставшиеся без попечения родителей</option>
						</select>
					</th:block>
					<th:block th:if="${personInfo != null}">
						<select class="custom-select" name="familyStatus" id="inputGroupSelect01" required>
							<option selected th:value="${personInfo.familyStatus}">
								<th:block th:text="${personInfo.familyStatus}" />
							</option>
							<option value="полная семья">Полная семья</option>
							<option value="неполная семья">Неполная семья</option>
							<option value="многодетная-полная семья">Многодетная-полная семья</option>
							<option value="многодетная-неполная семья">Многодетная-неполная семья</option>
							<option value="дети-сироты">Дети-сироты</option>
							<option value="дети оставшиеся без попечения родителей">Дети оставшиеся без попечения родителей</option>
							<option value="лица из числа детей сирот">Лица из числа детей сирот</option>
							<option value="лица оставшиеся без попечения родителей">Лица оставшиеся без попечения родителей</option>
						</select>
					</th:block>
				</div>

				<!-- 
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                 <span class="input-group-text">Учится ли на данный момент*</span>
                <div class="input-group-text">
             <input type="radio" name="gender" value="male">
                  </div>
                  <span class="input-group-text">Да</span>
                  <div class="input-group-text">
             <input type="radio" name="gender" value="female">
                  </div>
               <span class="input-group-text">Нет</span>
             </div>
            </div>
             -->

				<div class="input-group mb-3">
					<div class="input-group-prepend w-30" style="margin-right: 10px;">
						<div class="input-group-text w-100">Учится ли на данный момент*</div>
					</div>
					<th:block th:if="${personInfo == null || personInfo.isStudent == null}" style="text-align: right">
						<div class="custom-control custom-radio" style="margin-top: 6px; margin-left: 5px;">
							<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-control-input"
								type="radio" name="isStudent" value="1" id="check1" /> <input sec:authorize="hasRole('ROLE_SPPS')"
								class="custom-control-input" required type="radio" name="isStudent" value="1" id="check1" disabled /> <label
								class="custom-control-label" for="check1">Да</label>
						</div>
						<div class="custom-control custom-radio" style="margin-top: 6px; margin-left: 5px;">
							<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-control-input"
								type="radio" name="isStudent" value="0" id="check0" /> <input sec:authorize="hasRole('ROLE_SPPS')" required
								class="custom-control-input" type="radio" name="isStudent" value="0" id="check0" disabled /> <label
								class="custom-control-label" for="check0">Нет</label>
						</div>
					</th:block>
					<th:block th:if="${personInfo != null && personInfo.isStudent != null}">

						<th:block th:if="${personInfo.isStudent}">
							<div class="custom-control custom-radio">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-control-input"
									type="radio" name="isStudent" checked="checked" value="1" id="check1" /> <input
									sec:authorize="hasRole('ROLE_SPPS')" required class="custom-control-input" type="radio" name="isStudent"
									checked="checked" value="1" id="check1" disabled /> <label class="custom-control-label" for="check1">Да</label>
							</div>
							<div class="custom-control custom-radio">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-control-input"
									type="radio" name="isStudent" value="0" id="check0" /> <input sec:authorize="hasRole('ROLE_SPPS')" required
									class="custom-control-input" type="radio" name="isStudent" value="0" id="check0" disabled /> <label
									class="custom-control-label" for="check0">Нет</label>
							</div>
						</th:block>

						<th:block th:if="${!personInfo.isStudent}">
							<div class="custom-control custom-radio">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-control-input"
									type="radio" name="isStudent" value="1" id="check1" /> <input sec:authorize="hasRole('ROLE_SPPS')" required
									class="custom-control-input" type="radio" name="isStudent" value="1" id="check1" disabled /> <label
									class="custom-control-label" for="check1">Да</label>
							</div>
							<div class="custom-control custom-radio">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required class="custom-control-input"
									type="radio" name="isStudent" checked="checked" value="0" id="check0" /> <input
									sec:authorize="hasRole('ROLE_SPPS')" required class="custom-control-input" type="radio" name="isStudent"
									checked="checked" value="0" id="check0" disabled /> <label class="custom-control-label" for="check0">Нет</label>
							</div>
						</th:block>

					</th:block>
				</div>


				<div class="accordion" id="accordion0">
					<div class="list-group-item" style="border-width: 0 0 1px;" data-toggle="collapse" data-target="#collapse0"
						aria-controls="collapse0">Информация о размерах одежды &#x25BE</div>
					<div id="collapse0" class="collapse" aria-labelledby="headingOne" data-parent="#accordion0">

						<div class="input-group mb-3" style="padding-top: 15px;">
							<div class="input-group-prepend w-30">
								<div class="input-group-text w-100">Рост*</div>
							</div>
							<th:block th:if="${personInfo == null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="number" class="form-control"
									name="humanHeight">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="number" class="form-control" name="humanHeight">
							</th:block>
							<th:block th:if="${personInfo != null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="number" class="form-control"
									name="humanHeight" th:value="${personInfo.humanHeight}">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="number" class="form-control" name="humanHeight"
									th:value="${personInfo.humanHeight}">
							</th:block>
						</div>

						<div class="input-group mb-3">
							<div class="input-group-prepend w-30">
								<div class="input-group-text w-100">Вес*</div>
							</div>
							<th:block th:if="${personInfo == null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="number" class="form-control"
									name="humanWeight">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="number" class="form-control" name="humanWeight">
							</th:block>
							<th:block th:if="${personInfo != null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="number" class="form-control"
									name="humanWeight" th:value="${personInfo.humanWeight}" >
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="number" class="form-control" name="humanWeight"
									th:value="${personInfo.humanWeight}">
							</th:block>
						</div>

						<div class="input-group mb-3">
							<div class="input-group-prepend w-30">
								<div class="input-group-text w-100">Размер одежды*</div>
							</div>
							<th:block th:if="${personInfo == null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
									class="form-control" name="clothingSize">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text" maxlength="16" class="form-control"
									 onchange="this.reportValidity()" name="clothingSize">
							</th:block>
							<th:block th:if="${personInfo != null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
									class="form-control" name="clothingSize" th:value="${personInfo.clothingSize}">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text" maxlength="16" class="form-control"
									name="clothingSize" th:value="${personInfo.clothingSize}">
							</th:block>
						</div>

						<div class="input-group mb-3">
							<div class="input-group-prepend w-30">
								<div class="input-group-text w-100">Размер обуви*</div>
							</div>
							<th:block th:if="${personInfo == null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
									class="form-control" name="footSize">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text" maxlength="16" class="form-control"
									  name="footSize">
							</th:block>
							<th:block th:if="${personInfo != null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
									class="form-control" name="footSize" th:value="${personInfo.footSize}" >
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text" maxlength="16" class="form-control"
									  name="footSize" th:value="${personInfo.footSize}">
							</th:block>
						</div>

						<div class="input-group mb-3">
							<div class="input-group-prepend w-30">
								<div class="input-group-text w-100">Обхват головы*</div>
							</div>
							<th:block th:if="${personInfo == null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
									class="form-control" name="headCircumference"  min="40" max="70" onchange="this.reportValidity()">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text" maxlength="16" class="form-control">
							</th:block>
							<th:block th:if="${personInfo != null}">
								<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="16"
									class="form-control" name="headCircumference" th:value="${personInfo.headCircumference}">
								<input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text" maxlength="16" class="form-control"
									name="headCircumference" th:value="${personInfo.headCircumference}">
							</th:block>
						</div>

					</div>
				</div>

				<!-- СИРОТА -->

				<!-- <th:block th:if="${personInfo != null}"> 
                
                 (personInfo.familyStatus != 'полная семья' || personInfo.familyStatus != 'неполная семья' 
                || personInfo.familyStatus != 'многодетная-полная семья' || personInfo.familyStatus !=  'многодетная-неполная семья' ) }">
                -->
                
				<th:block
					th:if="${(personInfo != null) &&  (personInfo.familyStatus != null) &&
                (personInfo.familyStatus != 'полная семья') && (personInfo.familyStatus != 'неполная семья') &&
                (personInfo.familyStatus != 'многодетная-полная семья') && (personInfo.familyStatus !=  'многодетная-неполная семья') }">
					<div class="accordion" id="accordion2">
						<div class="list-group-item" style="border-width: 0 0 1px;" data-toggle="collapse" data-target="#collapse2"
							aria-controls="collapse2">Информация о сироте &#x25BE</div>
						<div id="collapse2" class="collapse" aria-labelledby="headingOne" data-parent="#accordion2">

							<div class="input-group mb-3">
								<input  type="hidden" name="orphanInfo.id"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.id : ''}" />
							</div>

							<div class="input-group mb-3">
								<input   type="hidden" name="orphanInfo.personId"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.personId : personInfo.id}" />
							</div>

							<div class="input-group mb-3" style="padding-top: 15px;">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Дата приобретения статуса сироты*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.orphanDate"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.orphanDate : ''}">
							</div>
							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Район*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.orphanDistrict"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.orphanDistrict : ''}">
							</div>

							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Форма, дата устройства, № приказа в учреждении образования*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.formDateOrder"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.formDateOrder : ''}">
							</div>

							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Закреплено жилье*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.fixedHousing"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.fixedHousing : ''}">
							</div>

							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Поставлен на учет нуждающихся в улучшении жилищных условий*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.accountingHouseImprove"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.accountingHouseImprove : ''}">
							</div>

							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Сведения о родителях, подтверждающие статус сироты*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.infoParentsOrphStatus"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.infoParentsOrphStatus : ''}">
							</div>

							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Регистрация по месту пребывания*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.registrPlaceStay"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.registrPlaceStay : ''}">
							</div>

							<div class="input-group mb-3">
								<div class="input-group-prepend w-30">
									<div class="input-group-text w-100">Регистрация по месту жительства*</div>
								</div>
								<input   type="text" maxlength="512" class="form-control" name="orphanInfo.registrPlaceResidence"
									th:value="${personInfo.orphanInfo != null ? personInfo.orphanInfo.registrPlaceResidence : ''}">
							</div>

						</div>
					</div>
				</th:block>

				<!--   -->
				<th:block th:if="${personInfo != null}">
					<th:block th:if="${personInfo.violations[0].id != null}">
						<div class="accordion" id="accordion">
							<div class="list-group-item" style="border-width: 0 0 1px;" data-toggle="collapse" data-target="#collapse"
								aria-controls="collapse">Нарушения &#x25BE</div>
							<div id="collapse" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">

								<th:block th:each="vio, status: ${personInfo.violations}">

									<h6 style="text-align: center; padding-top: 10px;" th:text="${status.index}+1+' нарушение:'"></h6>
									<div class="input-group mb-3">
										<input type="hidden" th:name="'violations[' + ${status.index} + '].id'" th:value="${vio.id}" />
									</div>

									<div class="input-group mb-3">
										<input type="hidden" th:name="'violations[' + ${status.index} + '].personId'" th:value="${vio.personId}" />
									</div>

									<div class="input-group mb-3">
										<div style="margin: 0 auto;">

											<select sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" class="custom-select"
												th:name="'violations[' + ${status.index} + '].violationType'" id="inputGroupSelect01">
												<option selected th:value="${vio.violationType}">
													<th:block th:text="${vio.violationType}" /></option>
												<option value="соп">СОП</option>
												<option value="ипр">ИПР</option>
												<option value="пирп">ПИРП</option>
											</select> <select sec:authorize="hasRole('ROLE_SPPS')" disabled class="custom-select"
												th:name="'violations[' + ${status.index} + '].violationType'" id="inputGroupSelect01">
												<option selected th:value="${vio.violationType}">
													<th:block th:text="${vio.violationType}" /></option>
												<option value="соп">СОП</option>
												<option value="ипр">ИПР</option>
												<option value="пирп">ПИРП</option>
											</select>

										</div>
									</div>

									<div class="input-group mb-3">
										<div class="input-group-prepend w-30">
											<div class="input-group-text w-100">Дата</div>
										</div>
										<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" required type="date"
											th:name="'violations[' + ${status.index} + '].date'" th:value="${vio.date}" class="form-control"> <input
											sec:authorize="hasRole('ROLE_SPPS')" disabled required type="date"
											th:name="'violations[' + ${status.index} + '].date'" th:value="${vio.date}" class="form-control">
									</div>
									<div class="input-group mb-3">
										<div class="input-group-prepend w-30">
											<div class="input-group-text w-100">Причина</div>
										</div>
										<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" type="text" maxlength="512"
											class="form-control" th:name="'violations[' + ${status.index} + '].description'"
											th:value="${vio.description}"> <input sec:authorize="hasRole('ROLE_SPPS')" disabled type="text"
											maxlength="512" class="form-control" th:name="'violations[' + ${status.index} + '].description'"
											th:value="${vio.description}">
									</div>

								</th:block>

							</div>
						</div>
					</th:block>
				</th:block>

				<div class="input-group mb-3" style="padding-top: 15px;">
					<div class="input-group-prepend w-30">
						<div class="input-group-text w-100">Общественная работа</div>
					</div>
					<input sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_DIRECTOR')" maxlength="128"
						name="socialWork" th:value="${personInfo != null ? personInfo.socialWork : ''}" class="form-control"
						placeholder="Введите информацию об общественной работе"> <input sec:authorize="hasRole('ROLE_SPPS')"
						maxlength="128" name="socialWork"
						th:value="${personInfo != null ? personInfo.socialWork : ''}" class="form-control"
						placeholder="Введите информацию об общественной работе" disabled>
				</div>

				<div class="input-group">
					<div class="custom-file">
						<!-- required="required" -->
						<input name="ph" type="file" class="custom-file-input" id="inputGroupFile04"
							aria-describedby="inputGroupFileAddon04"> <label class="custom-file-label" for="inputGroupFile04"></label>
					</div>
				</div>
				<script>
                      jQuery(function() {
                    	  //alert('funct');

                    	    jQuery('form').bind('submit', function() {
                    	    	//alert('hhh');
                    	    	
                    	    	var elG = document.getElementById('selGender');
                    	    	if(elG.hasAttribute('required')){
                    	    		//alert('elem req')
                    	    		
                    	    		//alert(elG.options[elG.selectedIndex].value);
                    	    		}else{
                    	    			//alert('no req')
                    	    		}
                    	    	
                    	        jQuery(this).find(':disabled').removeAttr('disabled');
                    	    });

                    	    });
                      </script>


				<button style="font-size: 120%; width: 40%; margin: 0 auto;" type="submit" class="btn btn-primary">Добавить</button>
			</form>

		</div>
	</div>
	
	   <input id="forIp" th:value="${@environment.getProperty('isServer')}" hidden> <!-- получить значение из сервера для ip из сервера -->
    
    <script>
    var ipFromAppProp;
    if(document.getElementById("forIp").value=="false"){
        ipFromAppProp = "127.0.0.1:8080";
    }else{
        ipFromAppProp = "192.168.1.5:80"
    }
    console.log("new ip: "+ipFromAppProp);
    </script>
	
	<style>
.select2-container--default .select2-selection--single {
	border-left-width: 0px;
	border-right-width: 0px;
	border-top-width: 0px;
	border-bottom-width: 0px;
}
</style>

	<!-- script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script-->
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
		integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
	<!-- script src="https://cdn.ckeditor.com/ckeditor5/20.0.0/classic/ckeditor.js"></script -->
	<!-- script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
	<script type="text/javascript" th:src="@{/js/jquery.maskedinput.min.js}"></script>
	
	<script type="text/javascript">
                    $(".livesearch").chosen();
                </script>
	<script>
        jQuery(function($){
            //$("#orderOfAdmission").mask("99?9?9");
            //$("#orderOfEnd").mask("99?9?9-aa?a?a, от 99.99.9999");
        });
    </script>
	<script type="text/javascript">
                    $('#inputGroupFile04').on('change', function() {
                        //get the file name
                        var fileName = $(this).val();
                        // alert("file: "+fileName);
                        //replace the "Choose a file" label
                        var str = fileName.substr(12, fileName.lenght);
                        $(this).next('.custom-file-label').html(str);
                    })
                </script>
                
<script>
$(document).ready(function() {
    $('#selSpec').select2({
       maximumSelectionLength: 2,
       language: "ru"
    });
});

$(document).ready(function() {
    $('#inputDepartmentSelect01').select2({
       maximumSelectionLength: 2,
       language: "ru"
    });
});

$(document).ready(function() {
    $('#selectInputGroupSelect01').select2({
       maximumSelectionLength: 2,
       language: "ru"
    });
});

//var $eventSelect = $("#selSpec");
//$eventSelect.on("select2:open", function (e) { alert('open') });

$("#selSpec").on("change", function(e) { 
    console.log("change: "+" "+$(this).Option+$("#selSpec option:selected").val());
    getProfessionRest();
    
  })
</script>

<script type="text/javascript">

let setIdVar=document.getElementById("selGender"); //тип образования 
let setSpecVar=document.getElementById("selSpec"); //специальность выпадающий список
let setFormOfEducation=document.getElementById("formOfEducation"); //тип образования 
let setTuitionFee=document.getElementById("tuitionFee");

let selVal1=setIdVar.options[setIdVar.selectedIndex].value;
let selVal2=setSpecVar.options[setSpecVar.selectedIndex].value;
let setValFormOfEducation=setFormOfEducation.options[setFormOfEducation.selectedIndex].value;
let setValTuitionFee=setTuitionFee.options[setTuitionFee.selectedIndex].value;

let boolEdit = true;
const v1=selVal2;

async function getEnrollmentDate(){
    
    let selectedSpecialtyEl=document.getElementById("selSpec");
    console.log("________________getEnrollmentDate: "+selectedSpecialtyEl.options[selectedSpecialtyEl.selectedIndex].value);
    let selVal=selectedSpecialtyEl.options[selectedSpecialtyEl.selectedIndex].value;
    
    let url = 'http://'+ipFromAppProp+'/enrollmentDate?specId=' + selVal;
    let response = await fetch(url);

    let commits = await response.json(); //читаем ответ в формате JSON
    
    console.log("textContent: "+commits)
    
    document.getElementById("enrollmentDateInput").value =commits;
    
    console.log("___commits: "+commits.length)
    
}
//select 1 получить специальности после выбора ссо или пто
async function getSpecialityRest(){
   
   let selVal=setIdVar.options[setIdVar.selectedIndex].value;
   let selFormOfEducation=setFormOfEducation.options[setFormOfEducation.selectedIndex].value;
   let selTuitionFee=setTuitionFee.options[setTuitionFee.selectedIndex].value;
   
   let oldSelSpec=document.getElementById("selSpec");
   
   //let oldSelSpecValue=document.getElementById("selSpec").value;
   //let oldSelSpecText=document.getElementById("selSpec").text;
   
   //console.log('&&&&&& selSpec value: '+oldSelSpecValue);
   
   
   console.log("___________oldSelSpec: "+oldSelSpec.value)
   
   console.log("selVal typeOfEducation getSpecialityRest: "+selVal);
   console.log("Форма обучения value: "+setFormOfEducation.options[setFormOfEducation.selectedIndex].value);
   console.log("Оплата value: "+setTuitionFee.options[setTuitionFee.selectedIndex].value);
   
   let url = 'http://'+ipFromAppProp+'/specialityrest/?typeOfEducation=' + selVal 
           +'&formOfEducation=' + selFormOfEducation + '&tutionFee=' + selTuitionFee;
   let response = await fetch(url);

   let commits = await response.json(); //читаем ответ в формате JSON
   console.log("после чтения ответа")
   
   console.log("commits: "+commits.length)
   
   
   //if dont have speciality add options with error
   if(commits.length==0){
       
        if(typeof setSpecVar.options[setSpecVar.selectedIndex] == "undefined"){
               setSpecVar.length=1;
           }else{
               setSpecVar.length=0;
           }
        
          var ul = document.getElementById("listKvId");
          
          //delete all li
          while( ul.firstChild ){ 
              ul.removeChild( ul.firstChild );
          }
          //buffer li
          var li0=document.createElement('li')
          ul.appendChild(li0);
          li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px;\">Выберите корректные данные</li>"
                  setSpecVar.add(new Option("Нет специальностей к выбранным данным",));   
   }
   else{ //if have speciality add options with speciality
   console.log("______GET PROFselVal: "+selVal);
   
   if(typeof setSpecVar.options[setSpecVar.selectedIndex] == "undefined"){
       setSpecVar.length=1;
   }else{
       setSpecVar.length=0;
   }
   
   for(var i of commits){
       setSpecVar.add(new Option(i.specialtyName,i.id));
   }
       //setSpecVar.selectedIndex = 0;
   
       console.log("есть ли специальность: "+ v1)
   if(selVal!=-1&&boolEdit==false){ //если работает, то не работает при добавлении нового
    getProfessionRest();
   }else if(v1==-2){ //если нет специальности значит добавление новое
    getProfessionRest();
   }
   else{
        var ul = document.getElementById("listKvId");
           //delete all li
           while( ul.firstChild ){ 
               ul.removeChild( ul.firstChild );
           }
           //buffer li
           var li0=document.createElement('li')
           ul.appendChild(li0);
           li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px;\">Выберите специальность</li>"
                   setSpecVar.add(new Option("Не выбрано",));   
   }
  }
   //getProfessionRest()
   
   if(selVal2!=-2&&boolEdit==true){//если обновление 
       console.log("Ставим старое значение %%%%%%: "+selVal2+"   :"+oldSelSpec.value+" ::"+document.getElementById("selSpec").value)
       document.getElementById("selSpec").value = selVal2;
   
       //если включить не покзывает специальность при выборе друго типа при редактировании
       //console.log("Ставим старое значение %%%%%%::: "+document.getElementById("selSpec").value +"  "+ document.getElementById("inputGroupSelect02").value) 
       
       boolEdit = false;
       //select.selectedIndex = 1;
       }
}
//select 2
async function getProfessionRest(){
    
    console.log("ПОЛУЧАЕМ ПРОФЕССИЮ")
    
   let selVal=setSpecVar.options[setSpecVar.selectedIndex].value;
   console.log("ПРОФЕССИЯ ID: "+selVal);
   
   if(selVal==-2){
       var ul = document.getElementById("listKvId");
       //delete all li
       while( ul.firstChild ){ 
           ul.removeChild( ul.firstChild );
       }
       //buffer li
       var li0=document.createElement('li')
       ul.appendChild(li0);
       li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px;\">Выберите специальность</li>"
               setSpecVar.add(new Option("Не выбрано",));   
   }
   
   if(selVal!=-2){
       console.log("selVAL profserest: "+selVal)
   let url = 'http://'+ipFromAppProp+'/professionrest/?value='+selVal;
   let response = await fetch(url);
   let commits = await response.json(); //читаем ответ в формате JSON

   var ul = document.getElementById("listKvId");
   
   //delete all li
   while( ul.firstChild ){ 
       ul.removeChild( ul.firstChild );
   }

   //buffer li
   var li0=document.createElement('li')
   ul.appendChild(li0);
   li0.outerHTML="<li class=\"list-group-item\" style=\"padding-bottom: 6px;padding-top: 6px; color:red;\">Данные не получены из контроллера</li>"

   var li6=document.createElement('li')
       li6.setAttribute("class","list-group-item");
       li6.setAttribute("style","padding-bottom: 6px;padding-top: 6px; background: #EEEEEE;");
       
       for(var i=0;i<commits.length;i++){
           
           if(i==0){
               var name = commits[i].name;
               console.log("КВАЛИФИКАЦИЯ1: "+name);
               li6.textContent=name
               ul.replaceChild(li6,ul.firstElementChild);
           }else{
            var newli6=li6.cloneNode(true)
            
            var name2 = commits[i].name;
               console.log("КВАЛИФИКАЦИЯ2: "+name2);
            
            li6.textContent=commits[i].name
            ul.appendChild(newli6)
           }
       }
           var el=document.getElementsByClassName("select2-selection select2-selection--single");
   }
}

setIdVar.addEventListener("change",getSpecialityRest)
setSpecVar.addEventListener("click",getProfessionRest)
setFormOfEducation.addEventListener("change",getSpecialityRest) //форма обучени 
setTuitionFee.addEventListener("change",getSpecialityRest) //форма образования (платное бюджет)
    
    
window.onload = function() {
    
    let oldSelSpec=document.getElementById("selSpec");

    let oldSelSpecValue=document.getElementById("selSpec").value;
     //let oldSelSpecText=document.getElementById("selSpec").text;

    if(oldSelSpecValue!=-2){
          console.log("Ставим старое заначение WINDOWS on load%: "+oldSelSpecValue)
          console.log("oldSelSpec: "+oldSelSpec.value);
          oldSelSpec.value=oldSelSpecValue;
          //select.selectedIndex = 2;
     }

    console.log("Форма обучения onload value: "+setFormOfEducation.options[setFormOfEducation.selectedIndex].value);
    console.log("Оплата onload value: "+setTuitionFee.options[setTuitionFee.selectedIndex].value);
    
    var e1 = document.getElementById("selGender");
    var strUser = e1.options[e1.selectedIndex].text;
    console.log("window.onload selVal getSpecialityRest text: "+setIdVar.options[setIdVar.selectedIndex].text);
   
    if(selVal1!=-1){
        console.log("получаем специальность IN");
        getSpecialityRest()
   }
    
   if(selVal2!=-2){
        console.log("получаем профессии IN_______");
        getProfessionRest()
        console.log("получаем профессии OUT_______");
   }
   getProfessionRest()
}
   </script>

<script>
function validFunction(){
 var elG = document.getElementById('selSpec');
 if(elG.value=="Нет специальностей к выбранным данным"){
      alert("Выберите специальность");
      //document.getElementById("submitButton").disabled = true;
 return false;
}else{
 return true;
}
}
    
</script>
</body>
</html>